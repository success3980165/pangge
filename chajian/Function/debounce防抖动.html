<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>debounce（防抖动）</title>
</head>

<body>
    <h1>debounce（防抖动）</h1>
    <textarea name="" id="" cols="30" rows="10"></textarea>
</body>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
function debounce(fn, delay) {
    var timer = null; // 声明计时器
    return function() {
        var context = this;
        var args = arguments;
        clearTimeout(timer);
        timer = setTimeout(function() {
            fn.apply(context, args);
        }, delay);
    };
}

function todo (event) {
	console.log(event);
}

$('textarea').on('keydown', debounce(todo, 2500))
$('textarea').on('keydown', function(event) {
    console.log(event);
});
</script>

</html>
